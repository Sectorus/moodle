YUI.add("moodle-block_xp-rulepicker",function(i,e){var t,o,d,l;e="moodle-block_xp-rulepicker",t="block_xp",o={PREFIX:"block_xp-rulepicker",RULE:"rule"},d=".rule button",l=function(){l.superclass.constructor.apply(this,arguments)},i.namespace("M.block_xp").RulePicker=i.extend(l,M.core.dialogue,{prepared:!1,initializer:function(){this.publish("picked")},close:function(){this.hide()},display:function(){this.prepared||this.prepare(),this.show()},picked:function(e){e.preventDefault(),this.close(),this.fire("picked",e.currentTarget.getData("id"))},prepare:function(){var e,t;t=i.Handlebars.compile('<div> {{#rules}} <div class="{{../CSS.RULE}}">  <button data-id="{{id}}" class="btn btn-default">{{name}}</button> </div> {{/rules}}</div>'),this.getStdModNode(i.WidgetStdMod.HEADER).prepend(i.Node.create("<h1>"+this.get("title")+"</h1>")),e=i.Node.create(t({CSS:o,rules:this.get("rules")})),this.setStdModContent(i.WidgetStdMod.BODY,e,i.WidgetStdMod.REPLACE),this.get("boundingBox").one(".moodle-dialogue-wrap").addClass("moodle-dialogue-content"),this.get("boundingBox").delegate("click",this.picked,d,this),this.prepared=!0}},{NAME:e,CSS_PREFIX:o.PREFIX,ATTRS:{rules:{validator:i.Lang.isObject,value:null}}}),i.Base.modifyAttrs(i.namespace("M.block_xp.RulePicker"),{modal:{value:!0},render:{value:!0},title:{valueFn:function(){return M.util.get_string("pickaconditiontype",t)}},visible:{value:!1}}),i.namespace("M.block_xp.RulePicker").init=function(e){return new l(e)}},"@VERSION@",{requires:["base","node","handlebars","moodle-core-notification-dialogue"]});